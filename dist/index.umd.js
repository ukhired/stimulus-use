!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("stimulus")):"function"==typeof define&&define.amd?define(["exports","stimulus"],t):t((e||self).StimulusUse={},e.Stimulus)}(this,function(e,t){var n=function(e,t){var n=e[t];return"function"==typeof n?n:function(){}},r=function(e,t,n){var r=e;return!0===n?r=t.identifier+":"+e:"string"==typeof n&&(r=n+":"+e),r},i=function(e,t,n){var r=t||{bubbles:!0,cancelable:!0,composed:!0},i=r.bubbles,o=r.cancelable,s=r.composed;return t&&Object.assign(n,{originalEvent:t}),new CustomEvent(e,{bubbles:i,cancelable:o,composed:s,detail:n})},o={dispatchEvent:!0,eventPrefix:!0},s=function(e,t){var s;void 0===t&&(t={});var a=Object.assign({},o,t),c=a.dispatchEvent,l=a.eventPrefix,u=(null==(s=t)?void 0:s.element)||e.element,d=e.disconnect.bind(e),v=new IntersectionObserver(function(t){var o=t[0];o.isIntersecting?function(t){if(e.isVisible=!0,n(e,"appear").call(e,t),c){var o=r("appear",e,l),s=i(o,null,{controller:e,entry:t});u.dispatchEvent(s)}}(o):e.isVisible&&function(t){if(e.isVisible=!1,n(e,"disappear").call(e,t),c){var o=r("disappear",e,l),s=i(o,null,{controller:e,entry:t});u.dispatchEvent(s)}}(o)},t),f=function(){v.observe(u)},h=function(){v.unobserve(u)};return Object.assign(e,{isVisible:!1,disconnect:function(){h(),d()}}),f(),[f,h]};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=s(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isVisible=!1,t}return c(t,e),t}(t.Controller)),f=function(e,t){var r=e.disconnect.bind(e),i=new IntersectionObserver(function(t){t[0].isIntersecting&&!e.isLoaded&&function(t){var r=e.data.get("src");if(r){var i=e.element;e.isLoading=!0,n(e,"loading").call(e,r),i.onload=function(){!function(t){e.isLoading=!1,e.isLoaded=!0,n(e,"loaded").call(e,t)}(r)},i.src=r}}()},t),o=function(){i.observe(e.element)},s=function(){i.unobserve(e.element)};return Object.assign(e,{isVisible:!1,disconnect:function(){s(),r()}}),o(),[o,s]},h=function(e){function t(t){var n;return(n=e.call(this,t)||this).options={rootMargin:"10%"},requestAnimationFrame(function(){var e=f(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isLoading=!1,t.isLoaded=!1,t}return c(t,e),t}(t.Controller)),b={dispatchEvent:!0,eventPrefix:!0},m=function(e,t){var o;void 0===t&&(t={});var s=Object.assign({},b,t),a=s.dispatchEvent,c=s.eventPrefix,l=(null==(o=t)?void 0:o.element)||e.element,u=e.disconnect.bind(e),d=new ResizeObserver(function(t){var o=t[0];if(n(e,"resize").call(e,o.contentRect),a){var s=r("resize",e,c),u=i(s,null,{controller:e,entry:o});l.dispatchEvent(u)}}),v=function(){d.observe(l)},f=function(){d.unobserve(l)};return Object.assign(e,{disconnect:function(){f(),u()}}),v(),[v,f]},g=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=m(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),p={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},y=function(e,t){void 0===t&&(t={});var n=Object.assign({},p,t),o=n.onlyVisible,s=n.dispatchEvent,a=n.events,c=n.eventPrefix,l=function(n){var a,l,u,d,v=(null==(a=t)?void 0:a.element)||e.element;if(!v.contains(n.target)&&(l=v.getBoundingClientRect(),u=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth,l.top<=u&&l.top+l.height>=1&&l.left<=d&&l.left+l.width>=1||!o)&&(e.clickOutside&&e.clickOutside(n),s)){var f=r("click:outside",e,c),h=i(f,n,{controller:e});v.dispatchEvent(h)}},u=function(){null==a||a.forEach(function(e){window.addEventListener(e,l,!1)})},d=function(){null==a||a.forEach(function(e){window.removeEventListener(e,l,!1)})},v=e.disconnect.bind(e);return Object.assign(e,{disconnect:function(){d(),v()}}),u(),[u,d]},E=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=y(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),C=["event"],O={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0},w=function(e,t){var n,r,i,o,s,c,l=this;void 0===t&&(t={}),this.log=function(e,t){l.debug&&(l.logger.groupCollapsed("%c"+l.controller.identifier+" %c#"+e,"color: #3B82F6","color: unset"),l.logger.log(a({controllerId:l.controllerId},t)),l.logger.groupEnd())},this.dispatch=function(e,t){if(void 0===t&&(t={}),l.dispatchEvent){var n=t.event,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(t,C),i=l.extendedEvent(e,n||null,r);l.targetElement.dispatchEvent(i),l.log("dispatchEvent",a({eventName:i.type},r))}},this.call=function(e,t){void 0===t&&(t={});var n=l.controller[e];if("function"==typeof n)return n.call(l.controller,t)},this.extendedEvent=function(e,t,n){var r=t||{bubbles:!0,cancelable:!0,composed:!0},i=r.bubbles,o=r.cancelable,s=r.composed;return t&&Object.assign(n,{originalEvent:t}),new CustomEvent(l.composeEventName(e),{bubbles:i,cancelable:o,composed:s,detail:n})},this.composeEventName=function(e){var t=e;return!0===l.eventPrefix?t=l.controller.identifier+":"+e:"string"==typeof l.eventPrefix&&(t=l.eventPrefix+":"+e),t},this.debug=null!=(n=null!=(r=null==(i=t)?void 0:i.debug)?r:e.application.stimulusUseDebug)?n:O.debug,this.logger=null!=(o=null==(s=t)?void 0:s.logger)?o:O.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.targetElement=(null==(c=t)?void 0:c.element)||e.element;var u=Object.assign({},O,t);Object.assign(this,{dispatchEvent:u.dispatchEvent,eventPrefix:u.eventPrefix}),this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)},j=function(e){function t(t,n){var i,o,s,a,c;return void 0===n&&(n={}),(c=e.call(this,t,n)||this).dispatch=function(e,t){void 0===t&&(t={});var n=u(c),i=n.targetElement,o=n.eventPrefix,s=n.bubbles,a=n.cancelable,l=n.log;Object.assign(t,{controller:n.controller});var d=r(e,c.controller,o),v=new CustomEvent(d,{detail:t,bubbles:s,cancelable:a});return i.dispatchEvent(v),l("dispatch",{eventName:d,detail:t,bubbles:s,cancelable:a}),v},c.targetElement=null!=(i=n.element)?i:t.element,c.eventPrefix=null==(o=n.eventPrefix)||o,c.bubbles=null==(s=n.bubbles)||s,c.cancelable=null==(a=n.cancelable)||a,c.enhanceController(),c}return c(t,e),t.prototype.enhanceController=function(){Object.assign(this.controller,{dispatch:this.dispatch})},t}(w),T=function(e,t){return void 0===t&&(t={}),new j(e,t)},P=function(e,t){void 0===t&&(t={}),Object.defineProperty(e,"isPreview",{get:function(){return document.documentElement.hasAttribute("data-turbolinks-preview")||document.documentElement.hasAttribute("data-turbo-preview")}}),Object.defineProperty(e,"csrfToken",{get:function(){return this.metaValue("csrf-token")}}),T(e,t),Object.assign(e,{metaValue:function(e){var t=document.head.querySelector('meta[name="'+e+'"]');return t&&t.getAttribute("content")}})},A=function(e){function t(t){var n;return(n=e.call(this,t)||this).isPreview=!1,n.csrfToken="",P(u(n),n.options),n}return c(t,e),t}(t.Controller),x={ms:6e4,initialState:!1,events:["mousemove","mousedown","resize","keydown","touchstart","wheel"],dispatchEvent:!0,eventPrefix:!0},L=function(e,t){void 0===t&&(t={});var o=Object.assign({},x,t),s=o.ms,a=o.events,c=o.dispatchEvent,l=o.eventPrefix,u=o.initialState,d=setTimeout(function(){u=!0,v()},s),v=function(t){var o=r("away",e,l);if(e.isIdle=!0,n(e,"away").call(e,t),c){var s=i(o,t||null,{controller:e});e.element.dispatchEvent(s)}},f=function(t){var o=r("back",e,l);if(e.isIdle=!1,n(e,"back").call(e,t),c){var s=i(o,t||null,{controller:e});e.element.dispatchEvent(s)}},h=function(e){u&&f(e),u=!1,clearTimeout(d),d=setTimeout(function(){u=!0,v(e)},s)},b=function(e){document.hidden||h(e)};u?v():f();var m=e.disconnect.bind(e),g=function(){a.forEach(function(e){window.addEventListener(e,h)}),document.addEventListener("visibilitychange",b)},p=function(){a.forEach(function(e){window.removeEventListener(e,h)}),document.removeEventListener("visibilitychange",b)};return Object.assign(e,{disconnect:function(){p(),m()}}),g(),[g,p]},N=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=L(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isIdle=!1,t}return c(t,e),t}(t.Controller)),I=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).observe=function(){r.controller.isVisible=!document.hidden,document.addEventListener("visibilitychange",r.handleVisibilityChange),r.handleVisibilityChange()},r.unobserve=function(){document.removeEventListener("visibilitychange",r.handleVisibilityChange)},r.becomesInvisible=function(e){r.controller.isVisible=!1,r.call("invisible",e),r.log("invisible",{isVisible:!1}),r.dispatch("invisible",{event:e,isVisible:!1})},r.becomesVisible=function(e){r.controller.isVisible=!0,r.call("visible",e),r.log("visible",{isVisible:!0}),r.dispatch("visible",{event:e,isVisible:!0})},r.handleVisibilityChange=function(e){document.hidden?r.becomesInvisible(e):r.becomesVisible(e)},r.controller=t,r.enhanceController(),r.observe(),r}return c(t,e),t.prototype.enhanceController=function(){var e=this,t=this.controllerDisconnect;Object.assign(this.controller,{disconnect:function(){e.unobserve(),t()}})},t}(w),V=function(e,t){void 0===t&&(t={});var n=new I(e,t);return[n.observe,n.unobserve]},F=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=V(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isVisible=!1,t}return c(t,e),t}(t.Controller)),S=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).observe=function(){r.targetElement.addEventListener("mouseenter",r.onEnter),r.targetElement.addEventListener("mouseleave",r.onLeave)},r.unobserve=function(){r.targetElement.removeEventListener("mouseenter",r.onEnter),r.targetElement.removeEventListener("mouseleave",r.onLeave)},r.onEnter=function(e){r.call("mouseEnter",e),r.log("mouseEnter",{hover:!0}),r.dispatch("mouseEnter",{hover:!1})},r.onLeave=function(e){r.call("mouseLeave",e),r.log("mouseLeave",{hover:!1}),r.dispatch("mouseLeave",{hover:!1})},r.controller=t,r.enhanceController(),r.observe(),r}return c(t,e),t.prototype.enhanceController=function(){var e=this,t=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:function(){e.unobserve(),t()}})},t}(w),M=function(e,t){void 0===t&&(t={});var n=new S(e,t);return[n.observe,n.unobserve]},U=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=M(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),k=function(e){function t(t,n){var r,i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).observe=function(){try{i.observer.observe(i.targetElement,i.options)}catch(e){i.controller.application.handleError(e,"At a minimum, one of childList, attributes, and/or characterData must be true",{})}},i.unobserve=function(){i.observer.disconnect()},i.mutation=function(e){i.call("mutate",e),i.log("mutate",{entries:e}),i.dispatch("mutate",{entries:e})},i.targetElement=(null==(r=n)?void 0:r.element)||t.element,i.controller=t,i.options=n,i.observer=new MutationObserver(i.mutation),i.enhanceController(),i.observe(),i}return c(t,e),t.prototype.enhanceController=function(){var e=this,t=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:function(){e.unobserve(),t()}})},t}(w),q=function(e,t){void 0===t&&(t={});var n=new k(e,t);return[n.observe,n.unobserve]},z=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=q(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),R=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).observe=function(){r.observer.observe(r.targetElement,{subtree:!0,characterData:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[r.targetSelector,r.scopedTargetSelector]})},r.unobserve=function(){r.observer.disconnect()},r.mutation=function(e){for(var t,n=function(){var e=t.value;switch(e.type){case"attributes":var n=e.target.getAttribute(e.attributeName);if(e.attributeName===r.targetSelector||e.attributeName===r.scopedTargetSelector){var i=r.targetsUsedByThisController(e.oldValue),o=r.targetsUsedByThisController(n),s=i.filter(function(e){return!o.includes(e)}),a=o.filter(function(e){return!i.includes(e)});s.forEach(function(t){return r.targetRemoved(r.stripIdentifierPrefix(t),e.target,"attributeChange")}),a.forEach(function(t){return r.targetAdded(r.stripIdentifierPrefix(t),e.target,"attributeChange")})}break;case"characterData":var c=r.findTargetInAncestry(e.target);if(null==c)return{v:void 0};r.targetsUsedByThisControllerFromNode(c).forEach(function(e){r.targetChanged(r.stripIdentifierPrefix(e),c,"domMutation")});break;case"childList":var l=e.removedNodes;e.addedNodes.forEach(function(e){return r.processNodeDOMMutation(e,r.targetAdded)}),l.forEach(function(e){return r.processNodeDOMMutation(e,r.targetRemoved)})}},i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=i()).done;){var o=n();if("object"==typeof o)return o.v}},r.controller=t,r.options=n,r.targetElement=t.element,r.identifier=t.scope.identifier,r.identifierPrefix=r.identifier+".",r.targetSelector=t.scope.schema.targetAttribute,r.scopedTargetSelector="data-"+r.identifier+"-target",r.targets=n.targets||t.constructor.targets,r.prefixedTargets=r.targets.map(function(e){return""+r.identifierPrefix+e}),r.observer=new MutationObserver(r.mutation),r.enhanceController(),r.observe(),r}c(t,e);var r=t.prototype;return r.processNodeDOMMutation=function(e,t){var n=this,r=e,i=t,o=[];"#text"==r.nodeName||0==this.targetsUsedByThisControllerFromNode(r).length?(i=this.targetChanged,r=this.findTargetInAncestry(e)):o=this.targetsUsedByThisControllerFromNode(r),null!=r&&(0==o.length&&(o=this.targetsUsedByThisControllerFromNode(r)),o.forEach(function(e){i.call(n,n.stripIdentifierPrefix(e),r,"domMutation")}))},r.findTargetInAncestry=function(e){var t=e,n=[];for("#text"!=t.nodeName&&(n=this.targetsUsedByThisControllerFromNode(t));null!==t.parentNode&&t.parentNode!=this.targetElement&&0==n.length;)if("#text"!==(t=t.parentNode).nodeName&&this.targetsUsedByThisControllerFromNode(t).length>0)return t;return"#text"==t.nodeName||null==t.parentNode?null:t.parentNode==this.targetElement&&this.targetsUsedByThisControllerFromNode(t).length>0?t:null},r.targetAdded=function(e,t,r){var i=e+"TargetAdded";this.controller[i]&&n(this.controller,i).call(this.controller,t),this.log("targetAdded",{target:e,node:t,trigger:r})},r.targetRemoved=function(e,t,r){var i=e+"TargetRemoved";this.controller[i]&&n(this.controller,i).call(this.controller,t),this.log("targetRemoved",{target:e,node:t,trigger:r})},r.targetChanged=function(e,t,r){var i=e+"TargetChanged";this.controller[i]&&n(this.controller,i).call(this.controller,t),this.log("targetChanged",{target:e,node:t,trigger:r})},r.targetsUsedByThisControllerFromNode=function(e){if("#text"==e.nodeName||"#comment"==e.nodeName)return[];var t=e;return this.targetsUsedByThisController(t.getAttribute(this.scopedTargetSelector)||t.getAttribute(this.targetSelector))},r.targetsUsedByThisController=function(e){var t=this.stripIdentifierPrefix(e=e||"").split(" ");return this.targets.filter(function(e){return-1!==t.indexOf(e)})},r.stripIdentifierPrefix=function(e){return e.replace(new RegExp(this.identifierPrefix,"g"),"")},r.enhanceController=function(){var e=this,t=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:function(){e.unobserve(),t()}})},t}(w),B=function(e,t){void 0===t&&(t={});var n=new R(e,t);return[n.observe,n.unobserve]},D=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=B(u(n),n.options),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),H=function(e){var t=function(t){var r=window,i={height:r.innerHeight||Infinity,width:r.innerWidth||Infinity,event:t};n(e,"windowResize").call(e,i)},r=e.disconnect.bind(e),i=function(){window.addEventListener("resize",t),t()},o=function(){window.removeEventListener("resize",t)};return Object.assign(e,{disconnect:function(){o(),r()}}),i(),[i,o]},W=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){var e=H(u(n)),t=e[0],r=e[1];Object.assign(u(n),{observe:t,unobserve:r})}),n}return c(t,e),t}(function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t}(t.Controller)),_=function(e,t){void 0===t&&(t=200);var n=null;return function(){var r=arguments,i=this,o=function(){return e.apply(i,r)};n&&clearTimeout(n),n=setTimeout(o,t)}};function G(e,t){var n;return void 0===t&&(t=200),function(){var r=arguments,i=this;n||(n=!0,e.apply(i,r),setTimeout(function(){return n=!1},t))}}function J(e){var t=document.head.querySelector('meta[name="'+e+'"]');return t&&t.getAttribute("content")}function $(e){try{return JSON.parse(e)}catch(t){return e}}function K(e){return e.replace(/(?:[_-])([a-z0-9])/g,function(e,t){return t.toUpperCase()})}var Q={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},X={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},Y=function(e,t){var n,r,i,o,s=function(e,t,n,r,i,o,s){try{var a=[];return o&&(t.forEach(function(t){return e.classList.contains(t)&&t!==i&&a.push(t)}),n.forEach(function(t){return e.classList.contains(t)&&t!==i&&a.push(t)}),r.forEach(function(t){return e.classList.contains(t)&&t!==i&&a.push(t)})),w(e,t),j(e,a),w(e,n),Promise.resolve(function(){try{return Promise.resolve(new Promise(function(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}))}catch(e){return Promise.reject(e)}}()).then(function(){return j(e,t),w(e,r),Promise.resolve(function(e){try{return Promise.resolve(new Promise(function(t){var n=1e3*Number(getComputedStyle(e).transitionDuration.split(",")[0].replace("s",""));setTimeout(function(){t(n)},n)}))}catch(e){return Promise.reject(e)}}(e)).then(function(){j(e,n),s&&j(e,r),w(e,a)})})}catch(e){return Promise.reject(e)}},a=function(n){try{if(!e.transitioned)return Promise.resolve();e.transitioned=!1,E&&E(n);var r=Z("leaveFrom",t,v),i=Z("leaveActive",t,v),o=Z("leaveTo",t,v),a=Z("enterTo",t,v);return p||j(d,a),Promise.resolve(s(d,r,i,o,m,g,p)).then(function(){m&&d.classList.add(m)})}catch(e){return Promise.reject(e)}},c=function(n){try{if(e.transitioned)return Promise.resolve();e.transitioned=!0,y&&y(n);var r=Z("enterFrom",t,v),i=Z("enterActive",t,v),o=Z("enterTo",t,v),c=Z("leaveTo",t,v);return m&&d.classList.remove(m),p||j(d,c),Promise.resolve(s(d,r,i,o,m,g,p)).then(function(){f>0&&setTimeout(function(){a(n)},f)})}catch(e){return Promise.reject(e)}};void 0===t&&(t={});var l,u=e.element.dataset.transitionTarget;u&&(l=e[u+"Target"]);var d=(null==(n=t)?void 0:n.element)||l||e.element;if(d instanceof HTMLElement||d instanceof SVGElement){var v=d.dataset,f=parseInt(v.leaveAfter||"")||t.leaveAfter||0,h=Object.assign(X,t),b=h.transitioned,m=h.hiddenClass,g=h.preserveOriginalClass,p=h.removeToClasses,y=null==(r=e.enter)?void 0:r.bind(e),E=null==(i=e.leave)?void 0:i.bind(e),C=null==(o=e.toggleTransition)?void 0:o.bind(e);return e.transitioned=b,b?(m&&d.classList.remove(m),c()):(m&&d.classList.add(m),a()),Object.assign(e,{enter:c,leave:a,toggleTransition:O}),[c,a,O]}function O(t){C&&C(t),e.transitioned?a():c()}function w(e,t){var n;t.length>0&&(n=e.classList).add.apply(n,t)}function j(e,t){var n;t.length>0&&(n=e.classList).remove.apply(n,t)}};function Z(e,t,n){var r,i="transition"+e[0].toUpperCase()+e.substr(1),o=t[e]||n[i]||n[Q[e]]||" ";return 0!==(r=o).length&&r.trim()?o.split(" "):[]}var ee=function(e){function t(t){var n;return n=e.call(this,t)||this,requestAnimationFrame(function(){Y(u(n),n.options)}),n}return c(t,e),t}(function(e){function t(){var t;return(t=e.apply(this,arguments)||this).transitioned=!1,t}return c(t,e),t}(t.Controller));e.ApplicationController=A,e.ClickOutsideController=E,e.HoverController=U,e.IdleController=N,e.IntersectionController=v,e.LazyLoadController=h,e.MutationController=z,e.ResizeController=g,e.TargetMutationController=D,e.TransitionController=ee,e.UseHover=S,e.UseMutation=k,e.UseTargetMutation=R,e.UseVisibility=I,e.VisibilityController=F,e.WindowResizeController=W,e.useApplication=P,e.useClickOutside=y,e.useDebounce=function(e,t){var n;null==(n=e.constructor.debounces)||n.forEach(function(n){if("string"==typeof n&&(e[n]=_(e[n],null==t?void 0:t.wait)),"object"==typeof n){var r=n.name;if(!r)return;e[r]=_(e[r],n.wait||(null==t?void 0:t.wait))}})},e.useDispatch=T,e.useHover=M,e.useIdle=L,e.useIntersection=s,e.useLazyLoad=f,e.useMemo=function(e){var t;null==(t=e.constructor.memos)||t.forEach(function(t){!function(e,t,n){Object.defineProperty(e,t,{value:n})}(e,t,e[t])})},e.useMeta=function(e,t){void 0===t&&(t={suffix:!0});var n=e.constructor.metaNames,r=t.suffix;null==n||n.forEach(function(t){!function(e,t,n){var r=n?K(t)+"Meta":K(t);Object.defineProperty(e,r,{get:function(){return $(J(t))}})}(e,t,r)}),Object.defineProperty(e,"metas",{get:function(){var e={};return null==n||n.forEach(function(t){var n=$(J(t));null!=n&&(e[K(t)]=n)}),e}})},e.useMutation=q,e.useResize=m,e.useTargetMutation=B,e.useThrottle=function(e,t){var n;void 0===t&&(t={}),null==(n=e.constructor.throttles)||n.forEach(function(n){var r;if("string"==typeof n&&(e[n]=G(e[n],null==(r=t)?void 0:r.wait)),"object"==typeof n){var i,o=n.name;if(!o)return;e[o]=G(e[o],n.wait||(null==(i=t)?void 0:i.wait))}})},e.useTransition=Y,e.useVisibility=V,e.useWindowResize=H});
//# sourceMappingURL=index.umd.js.map
